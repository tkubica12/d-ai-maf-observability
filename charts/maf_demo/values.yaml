# Default values for maf-demo.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

apiTool:
  image:
    repository: ""  # Will be set via Terraform
    tag: "latest"
    pullPolicy: IfNotPresent
  containerPort: 8000
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

mcpTool:
  image:
    repository: ""  # Will be set via Terraform
    tag: "latest"
    pullPolicy: IfNotPresent
  containerPort: 8001
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

agent:
  image:
    repository: ""  # Will be set via Terraform
    tag: "latest"
    pullPolicy: IfNotPresent
  clientId: ""  # Azure managed identity client ID for workload identity
  tenantId: ""  # Azure tenant ID
  resources:
    requests:
      memory: "512Mi"
      cpu: "200m"
    limits:
      memory: "2048Mi"
      cpu: "1000m"
  # Azure AI configuration (set via Terraform)
  aiEndpoint: ""       # AI Foundry API endpoint with /models path
  projectEndpoint: ""  # Project endpoint for Foundry Agent Service
  modelName: "gpt-4o"
  modelDeployment: "gpt-4o"
  # Service URLs (set via Terraform)
  apiServerUrl: ""     # API server ingress URL
  mcpServerUrl: ""     # MCP server ingress URL

otelCollector:
  tag: "0.115.1"
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"

appInsights:
  connectionString: ""  # Application Insights connection string (set via Terraform)

prometheus:
  remoteWriteEndpoint: ""  # Azure Monitor Prometheus remote write endpoint (set via Terraform)

langfuse:
  endpoint: ""       # Langfuse OTLP endpoint (set via Terraform), defaults to http://langfuse-web.langfuse.svc.cluster.local:3000/api/public/otel
  authorization: ""  # Langfuse authorization header (Basic auth, set via Terraform if needed)

clusterName: ""  # AKS cluster name (set via Terraform, used by Prometheus remote write sidecar)

aspireDashboard:
  tag: "9.0"
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "1024Mi"
      cpu: "700m"

aspireDashboardAnon:
  enabled: true  # Enable/disable anonymized Aspire Dashboard
  tag: "9.0"
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "1024Mi"
      cpu: "700m"

ingress:
  enabled: true
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    api:
      host: ""  # Will be set via Terraform (api-tool.{base_domain})
      paths:
        - path: /
          pathType: Prefix
    mcp:
      host: ""  # Will be set via Terraform (mcp-tool.{base_domain})
      paths:
        - path: /
          pathType: Prefix
    aspire:
      host: ""  # Will be set via Terraform (aspire.{base_domain})
      paths:
        - path: /
          pathType: Prefix
    aspireAnon:
      host: ""  # Will be set via Terraform (aspire-anon.{base_domain})
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: api-tool-tls
      hosts: []  # Will be set via Terraform
    - secretName: mcp-tool-tls
      hosts: []  # Will be set via Terraform
    - secretName: aspire-dashboard-tls
      hosts: []  # Will be set via Terraform
    - secretName: aspire-dashboard-anon-tls
      hosts: []  # Will be set via Terraform

service:
  type: ClusterIP
  apiPort: 80
  mcpPort: 80

letsencrypt:
  email: ""  # Will be set via Terraform